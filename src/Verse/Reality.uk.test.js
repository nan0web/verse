import { test } from 'node:test'
import assert from 'node:assert'
import { Спостерігач, Явище, реa1ьність } from './Reality.uk.js'

test('Ukrainian Reality Classes', async (t) => {
	await t.test('Субєктивна реальність впливає на спостереження', () => {
		const квантовийЕфект = new Явище('спостереження')
		квантовийЕфект.додатиСтан('стан1', 0.5)
		квантовийЕфект.додатиСтан('стан2', 0.5)

		const спостерігач = new Спостерігач('тестовий', 5)
		const реальність = new реa1ьність(спостерігач)

		const результат = реальність.спостерігати(квантовийЕфект)
		assert.ok(['стан1', 'стан2'].includes(результат.стан))
	})

	await t.test('Заплутані явища впливають одне на одного', () => {
		const явище1 = new Явище('перше')
		явище1.додатиСтан('А', 0.5)
		явище1.додатиСтан('Б', 0.5)

		const явище2 = new Явище('друге')
		явище1.статиЗаплутаним(явище2)

		const спостерігач = new Спостерігач('нейтральний')
		const результат1 = явище1.колапсувати(спостерігач)
		const результат2 = явище2.колапсувати(спостерігач)

		assert.strictEqual(результат1.стан, результат2.стан)
	})
})
